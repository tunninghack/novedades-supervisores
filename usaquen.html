<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel de Usaquén</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header>
        <h1 class="title">Panel de Usaquén</h1>
        <p class="subtitle">Bienvenido al panel de Usaquén. Aquí puedes consultar las novedades y otros datos relevantes.</p>
    </header>
    
    <div id="novedades-usaquen">
        <div id="contador-novedades">
            <p id="counter-usaquen">Contador de Novedades: 0</p>
        </div>
        <div id="novedad-descripcion">
            <p>No hay novedades por el momento.</p>
        </div>
    </div>

    <!-- Botón de cerrar sesión -->
    <button id="logoutBtn" class="logout-btn">Cerrar sesión</button>

    <script>
        if (!localStorage.getItem('isLoggedIn')) {
            window.location.href = 'login.html';
        }

        document.getElementById("logoutBtn").addEventListener("click", function() {
            localStorage.removeItem('isLoggedIn');
            window.location.href = 'login.html';
        });

        window.onload = function() {
            const concesion = "usaquen"; // Panel Usaquén
            const novedades = JSON.parse(localStorage.getItem(concesion)) || [];

            const contador = document.getElementById("counter-usaquen");
            const descripcion = document.getElementById("novedad-descripcion");

            if (novedades.length > 0) {
                contador.textContent = `Contador de Novedades: ${novedades.length}`;
                descripcion.innerHTML = novedades.map(n => `<p>${n.descripcion} - Imágenes: ${n.imagenes}</p>`).join('');
            } else {
                contador.textContent = `Contador de Novedades: 0`;
                descripcion.innerHTML = `<p>No hay novedades por el momento.</p>`;
            }
        };
    </script>
</body>
</html>
